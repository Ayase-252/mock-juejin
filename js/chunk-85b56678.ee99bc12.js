(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85b56678"],{"37d3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-wrapper"},[n("div",{staticClass:"post-left-col"},[n("content-viewer",{attrs:{title:t.title,content:t.content},on:{"active-heading-change":t.onActiveHeadingChange}})],1),n("div",{staticClass:"post-right-col"},[n("content-table",{attrs:{headings:t.headings}})],1)])},a=[],s=(n("ac6a"),n("96cf"),n("1da1")),c=(n("cadf"),n("551c"),n("097d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"content-table",class:{"content-table-wrapper":1===t.level}},t._l(t.headings,function(e){return n("li",{key:e.title,class:[t.levelClass]},[n("div",{staticClass:"content-item-wrapper",class:{active:e.isActive}},[n("div",{staticClass:"table-marker"}),n("a",{class:[t.levelClass],attrs:{href:"#"+e.title}},[t._v(t._s(e.title))])]),e.subHeadings&&e.subHeadings.length?n("content-table",{attrs:{headings:e.subHeadings,level:t.level+1}}):t._e()],1)}))}),r=[],o=(n("c5f6"),{name:"content-table",props:{headings:Array,level:{default:1,type:Number}},computed:{levelClass:function(){return"lvl-".concat(this.level,"-item")}}}),l=o,u=(n("f04c"),n("2877")),d=Object(u["a"])(l,c,r,!1,null,null,null);d.options.__file="ContentTable.vue";var f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"contentViewerWrapper",staticClass:"content-viewer-wrapper"},[n("h1",[t._v(t._s(t.title))]),n("div",{staticClass:"content-viewer-content",domProps:{innerHTML:t._s(t.content)}})])},v=[],g=function(t,e,n){var i=new Date,a=n.maxWait||e;return function(){clearTimeout(t.tid);var n=new Date;n-i>=a?(t(),i=n):t.tid=setTimeout(t,e)}},p=g,b={props:["content","title"],data:function(){return{offsets:[],targets:[],activeTargetIdx:0,onScrollHandler:null}},methods:{parseHeadingPosition:function(){var t=this;this.offsets=[],this.targets=[];var e=document.querySelectorAll("h2, h3, h4");e.forEach(function(e){e.setAttribute("id",e.innerHTML),t.offsets.push(e.offsetTop),t.targets.push(e.innerHTML)})},notifyActiveHeading:function(){this.$emit("active-heading-change",this.targets[this.activeTargetIdx])}},watch:{activeTargetIdx:function(t,e){t!==e&&this.notifyActiveHeading()}},mounted:function(){var t=this;this.parseHeadingPosition();var e=function(){var e=window.scrollY,n=t.offsets,i=n.length,a=t.activeTargetIdx;if(a+1<i&&n[a+1]<e)while(a+1<i&&n[a+1]<e)a++;if(a>0&&n[a]>e)while(a>0&&n[a]>e)a--;t.activeTargetIdx=a};this.onScrollHandler=p(e,50,{maxWait:70}),window.addEventListener("scroll",this.onScrollHandler,!0)},updated:function(){this.parseHeadingPosition(),this.onScrollHandler(),this.notifyActiveHeading()},beforeDestroy:function(){window.removeEventListener("scroll",this.onScrollHandler)}},w=b,m=(n("7b8c"),Object(u["a"])(w,h,v,!1,null,null,null));m.options.__file="ContentViewer.vue";var H=m.exports,x=(n("3b2b"),1),_=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{title:t,identifier:e,subHeadings:n,isActive:!1}},C=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=new RegExp("<h".concat(n,".*?>(.*?)</h").concat(n,">"),"g"),a=[],s=null,c=i.exec(e),r=function(){if(s){var i=a[a.length-1];i.subHeadings=t(e.slice(s,c?c.index:void 0),n+1)}};while(c)r(),a.push(_(c[1],"heading-".concat(x++))),s=i.lastIndex,c=i.exec(e);return r(),a},T=C,A=n("365c"),E={data:function(){return{headings:[],content:"",title:"",activeHeading:null,headingMap:{}}},components:{ContentTable:f,ContentViewer:H},methods:{onActiveHeadingChange:function(t){this.activeHeading&&(this.activeHeading.isActive=!1),this.headingMap[t].isActive=!0,this.activeHeading=this.headingMap[t]}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=function t(e){e.forEach(function(e){i.headingMap[e.title]=e,t(e.subHeadings)})},t.next=3,A["b"].getPost(this.$route.params.id);case 3:n=t.sent,this.headings=T(n.content),this.content=n.content,this.title=n.title,e(this.headings);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},y=E,M=(n("bc8d"),Object(u["a"])(y,i,a,!1,null,null,null));M.options.__file="Post.vue";e["default"]=M.exports},"3b2b":function(t,e,n){var i=n("7726"),a=n("5dbc"),s=n("86cc").f,c=n("9093").f,r=n("aae3"),o=n("0bfb"),l=i.RegExp,u=l,d=l.prototype,f=/a/g,h=/a/g,v=new l(f)!==f;if(n("9e1e")&&(!v||n("79e5")(function(){return h[n("2b4c")("match")]=!1,l(f)!=f||l(h)==h||"/a/i"!=l(f,"i")}))){l=function(t,e){var n=this instanceof l,i=r(t),s=void 0===e;return!n&&i&&t.constructor===l&&s?t:a(v?new u(i&&!s?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&s?o.call(t):e),n?this:d,l)};for(var g=function(t){t in l||s(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},p=c(u),b=0;p.length>b;)g(p[b++]);d.constructor=l,l.prototype=d,n("2aba")(i,"RegExp",l)}n("7a56")("RegExp")},"7b8c":function(t,e,n){"use strict";var i=n("e8ac"),a=n.n(i);a.a},aae3:function(t,e,n){var i=n("d3f4"),a=n("2d95"),s=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},bc8d:function(t,e,n){"use strict";var i=n("d33c"),a=n.n(i);a.a},d33c:function(t,e,n){},e8ac:function(t,e,n){},f04c:function(t,e,n){"use strict";var i=n("fb70"),a=n.n(i);a.a},fb70:function(t,e,n){}}]);
//# sourceMappingURL=chunk-85b56678.ee99bc12.js.map